<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ì§„ë¡œ ì„±í–¥ í…ŒìŠ¤íŠ¸</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; padding: 20px; max-width: 700px; margin: auto; background-color: #f7f7f7; color: #333; }
    .question { margin-bottom: 20px; }
    .choices button { display: block; margin: 5px 0; padding: 10px; width: 100%; border: none; background-color: #e0e0e0; cursor: pointer; border-radius: 6px; }
    .choices button:hover { background-color: #c0c0c0; }
    .result, .feedback { margin-top: 30px; background-color: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .hidden { display: none; }
    .button-group button { margin-right: 10px; padding: 8px 12px; border: none; background-color: #4caf50; color: white; border-radius: 5px; cursor: pointer; }
    .button-group button:hover { background-color: #388e3c; }
  </style>
</head>
<body>
  <h1>ì§„ë¡œ ì„±í–¥ í…ŒìŠ¤íŠ¸</h1>
  <div id="quiz"></div>
  <div class="result hidden" id="result"></div>
  <div class="feedback hidden" id="feedback">
    <p>ì´ í…ŒìŠ¤íŠ¸ê°€ ìœ ìµí–ˆë‚˜ìš”?</p>
    <div class="button-group">
      <button onclick="recordFeedback('yes')">ë„¤</button>
      <button onclick="recordFeedback('no')">ì•„ë‹ˆì˜¤</button>
    </div>
    <p id="thanksMsg" style="margin-top: 15px;"></p>
  </div>

  <script>
    const apiKey = "YOUR_OPENAI_API_KEY"; // â† ë°˜ë“œì‹œ ì„œë²„ ì¸¡ì—ì„œ ê´€ë¦¬í•  ê²ƒ

    const questions = [
      "1. ì–´ë–¤ ë¬¸ì œ ìƒí™©ì—ì„œâ€¦", "2. ë³µì¡í•œ í™˜ê²½ì—ì„œâ€¦", "3. í˜‘ì—…í•  ë•Œ ë„¤ ê²½í–¥ì€â€¦", "4. ê²°ì •ì´ í•„ìš”í•œ ìˆœê°„â€¦",
      "5. ì—¬ëŸ¬ ì„ íƒì§€ ì¤‘ í•˜ë‚˜ë¥¼ íƒí•  ë•Œâ€¦", "6. ë§ì€ ì •ë³´ê°€ ë“¤ì–´ì˜¬ ë•Œâ€¦", "7. ì‚¬ëŒë“¤ê³¼ ê´€ê³„ë¥¼ ë§ºì„ ë•Œâ€¦",
      "8. ë¬´ì–¸ê°€ì— ì§‘ì¤‘í•˜ë ¤ í•  ë•Œâ€¦", "9. íŒ€ ë‚´ ì—­í• ì´ ì£¼ì–´ì§ˆ ë•Œâ€¦", "10. ì¤‘ìš”í•œ ë°œí‘œë¥¼ ì•ë‘ì—ˆì„ ë•Œâ€¦",
      "11. ì‹¤ìˆ˜ê°€ ë°˜ë³µë  ë•Œâ€¦", "12. ëª©í‘œê°€ ëª¨í˜¸í•œ ì¼ì„ ë§¡ì„ ë•Œâ€¦", "13. ê°ì •ì´ ì•ì„¤ ë•Œ ë„¤ ë°˜ì‘ì€â€¦",
      "14. ì¼ì •ì´ ë¹ ë“¯í•œ í”„ë¡œì íŠ¸ì—ì„œâ€¦", "15. ì²˜ìŒ ë³´ëŠ” í™˜ê²½ì—ì„œ ì ì‘í•  ë•Œâ€¦", "16. ë¬´ê¸°ë ¥í•  ë•Œì˜ ë°˜ì‘ì€â€¦",
      "17. ì˜ˆìƒê³¼ ë‹¤ë¥¸ ê²°ê³¼ê°€ ë‚˜ì™”ì„ ë•Œâ€¦", "18. ê³„íšì´ í‹€ì–´ì¡Œì„ ë•Œâ€¦", "19. ìƒˆë¡œìš´ ê¸°ìˆ ì„ ë°°ìš¸ ë•Œâ€¦",
      "20. ë‹¤ë¥¸ ì‚¬ëŒê³¼ ê°ˆë“±ì´ ìƒê²¼ì„ ë•Œâ€¦"
    ];

    const options = [
      ["â‘  ë¹ ë¥´ê²Œ í•´ê²°í•´ë³´ë ¤ í•˜ì§€ë§Œ ë¶ˆì•ˆê°ì´ ìƒê¹€", "â‘¡ ì ì‹œ ë©ˆì¶”ê³  ìƒí™©ì„ ì´í•´í•˜ë ¤ í•˜ë‚˜ ë§ˆìŒì´ ì¡°ê¸‰í•¨", "â‘¢ ë‹¤ë¥¸ ì‚¬ëŒì˜ ì˜ê²¬ì„ ë“£ì§€ë§Œ ê²°ë¡ ì„ ë‚´ë¦¬ê¸° ì–´ë µë‹¤"],
      ["â‘  ì‹œë„ëŸ½ì§€ë§Œ ì¼ë‹¨ ì²˜ë¦¬í•´ë³´ë ¤ í•¨", "â‘¡ ê·¸ëƒ¥ ë‚´ ë°©ì‹ëŒ€ë¡œ ë°€ê³  ë‚˜ê°", "â‘¢ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ ë°›ì•„ë“¤ì´ì§€ë§Œ ë¨¸ë¦¬ê°€ ë³µì¡í•´ì§"],
      ["â‘  ë¦¬ë”ë¡œ ë‚˜ì„œë‚˜ ë‚´ì‹¬ ë¶€ë‹´ë¨", "â‘¡ ì•„ì´ë””ì–´ëŠ” ë‚´ì§€ë§Œ ì‹¤í–‰ì€ í”¼í•˜ê³  ì‹¶ìŒ", "â‘¢ ì •ë¦¬í•˜ê¸¸ ì›í•˜ë‚˜ ì‹¤ì œë¡œëŠ” íë¦„ì— ë§¡ê¹€"],
      ["â‘  ë¹ ë¥´ê²Œ ê²°ì •í•˜ê³  í›„íšŒí•¨", "â‘¡ ê·¸ëƒ¥ ê°ìœ¼ë¡œ ì •í•˜ì§€ë§Œ ì°ì°í•¨", "â‘¢ ë¯¸ë£¨ë‹¤ ì‹œê°„ì´ ì§€ë‚˜ ê²°ì •ë¨"],
      ["â‘  ê³ ë¯¼í•˜ë‹¤ ì•„ë¬´ê±°ë‚˜ ì„ íƒí•¨", "â‘¡ ë¶„ì„í•˜ë‹¤ê°€ ì˜¤íˆë ¤ ë¶ˆì•ˆí•´ì§", "â‘¢ ë‹¤ë¥¸ ì‚¬ëŒì´ ì •í•´ì£¼ë©´ ì˜¤íˆë ¤ í¸í•¨"],
      ["â‘  ì •ë¦¬í•˜ë ¤ í•˜ì§€ë§Œ ì •ë¦¬ê°€ ì•ˆ ë¨", "â‘¡ ê°ì •ì— ë”°ë¼ ìˆ˜ìš©ì´ ë‹¬ë¼ì§", "â‘¢ ë©í•˜ê²Œ ë°”ë¼ë³´ë‹¤ê°€ í˜ë ¤ë³´ëƒ„"],
      ["â‘  ì¹œí•´ì§€ê³  ì‹¶ì§€ë§Œ í”¼ê³¤í•¨", "â‘¡ ê±°ë¦¬ë‘ê³  ì‹¶ì§€ë§Œ ì£„ì±…ê°ì´ ë“¦", "â‘¢ ìì—°ìŠ¤ëŸ½ê²Œ ëŒ€í•˜ì§€ë§Œ ë§ˆìŒì€ ë³µì¡í•¨"],
      ["â‘  ë¹ ë¥´ê²Œ ëª°ì…í•˜ì§€ë§Œ ê¸ˆë°© ì§€ì¹¨", "â‘¡ í™˜ê²½ì— ë¯¼ê°í•˜ê²Œ ë°˜ì‘í•¨", "â‘¢ ì‰½ê²Œ ì‚°ë§Œí•´ì§"],
      ["â‘  ì •í•´ì§„ ëŒ€ë¡œ í•˜ë ¤ë‹¤ ì§€ë£¨í•´ì§", "â‘¡ ì°½ì˜ì ìœ¼ë¡œ í•˜ë ¤ë‹¤ ì¶©ëŒí•¨", "â‘¢ ê·¸ëƒ¥ ì ì‘í•˜ì§€ë§Œ ë‚´ ì˜ê²¬ì€ ì•ˆ ëƒ„"],
      ["â‘  ë–¨ë¦¬ì§€ë§Œ ì¤€ë¹„ë§Œ í•˜ë‹¤ ì‹œê°„ ì§€ë‚¨", "â‘¡ ë°œí‘œí•˜ë‚˜ ë‚´ì‹¬ íšŒí”¼í•˜ê³  ì‹¶ìŒ", "â‘¢ ë‚¨ì˜ ëˆˆì¹˜ ë³´ë©° ë²„í‹´ë‹¤"],
      ["â‘  ì±…ì„ê° ëŠë¼ì§€ë§Œ ì§œì¦ë‚¨", "â‘¡ ëŒ€ì¶© ë„˜ê¸°ë ¤ë‹¤ ë” ì‹¤ìˆ˜í•¨", "â‘¢ íšŒí”¼í•˜ê³  ì‹¶ë‹¤"],
      ["â‘  ëª©í‘œ ì •í•˜ë ¤ë‹¤ ê·€ì°®ìŒ", "â‘¡ ì¼ë‹¨ ì‹œì‘í•˜ë‚˜ ì¤‘ê°„ì— ë†“ì¹¨", "â‘¢ ì•„ë¬´ ìƒê° ì—†ì´ í•˜ë‹¤ ë°©í–¥ ìƒìŒ"],
      ["â‘  ê°ì • í­ë°œ í›„ í›„íšŒí•¨", "â‘¡ ì–µëˆ„ë¥´ë‹¤ ë³‘ë‚¨", "â‘¢ ì ë‹¹íˆ í‘œí˜„í•˜ì§€ë§Œ ë‚¨ íƒ“í•¨"],
      ["â‘  ë¬´ì¡°ê±´ í•´ë³´ì§€ë§Œ ì§€ì¹¨", "â‘¡ ìˆœì„œëŒ€ë¡œ í•˜ë ¤ë‹¤ ë§í•¨", "â‘¢ ì¤‘ê°„ì¤‘ê°„ ë°©í–¥ì´ ë°”ë€œ"],
      ["â‘  ë¬´ë‚œíˆ í•˜ë ¤ë‹¤ ì¡´ì¬ê° ì—†ìŒ", "â‘¡ íŠ€ë ¤ë‹¤ ë¶€ë‹´ë¨", "â‘¢ ê·¸ëƒ¥ ê·¸ ìë¦¬ì— ìˆìŒ"],
      ["â‘  ì°¸ê³  ë„˜ê¸°ë ¤ë‹¤ ë” ì§€ì¹¨", "â‘¡ ë§ì—†ì´ ê³ ë¦½ë¨", "â‘¢ ì–µì§€ë¡œ í…ì…˜ ë†’ì„"],
      ["â‘  ë‹¤ì‹œ í•´ë³´ë ¤ í•˜ì§€ë§Œ í™•ì‹  ì—†ìŒ", "â‘¡ ì›ì¸ ë¶„ì„í•˜ë ¤ë‹¤ í”¼ë¡œí•¨", "â‘¢ ê·¸ëƒ¥ í˜ë ¤ë³´ëƒ„"],
      ["â‘  ë‹¤ì‹œ ê³„íš ì„¸ìš°ì§€ë§Œ ì˜ìš• ì—†ìŒ", "â‘¡ ìš°ì„ ìˆœìœ„ ì •í•˜ë‹¤ ë°©í–¥ì„ ìƒìŒ", "â‘¢ ì¦‰í¥ì ìœ¼ë¡œ ë‹¤ì‹œ ì‹œì‘í•¨"],
      ["â‘  ìë£Œë§Œ ëª¨ìœ¼ë‹¤ ëë‚¨", "â‘¡ ë°°ì›Œë³´ì§€ë§Œ ì‰½ê²Œ í¬ê¸°í•¨", "â‘¢ ì˜†ì—ì„œ ì•Œë ¤ì¤˜ì•¼ ì´í•´ë¨"],
      ["â‘  ì°¸ë‹¤ í­ë°œí•¨", "â‘¡ ì¡°ìš©íˆ í”¼í•¨", "â‘¢ ë¬´ì‹œí•˜ê±°ë‚˜ íƒ€í˜‘í•¨"]
    ];

    const traitsMap = {
      '1-1': 'ë¬¸ì œí•´ê²°', '1-2': 'ìê¸°ì„±ì°°', '1-3': 'ìš°ìœ ë¶€ë‹¨',
      '2-1': 'ì²˜ë¦¬ì§‘ì¤‘', '2-2': 'ê³ ì§‘', '2-3': 'í˜¼ë€ìˆ˜ìš©',
      // ê³„ì† ì¶”ê°€ í•„ìš”
    };

    let currentQuestion = 0;
    let answers = [];

    const quiz = document.getElementById("quiz");
    const result = document.getElementById("result");
    const feedback = document.getElementById("feedback");
    const thanksMsg = document.getElementById("thanksMsg");

    function showQuestion() {
      if (currentQuestion >= questions.length) {
        showResult();
        return;
      }
      const q = document.createElement("div");
      q.className = "question";
      q.innerHTML = `<h3>${questions[currentQuestion]}</h3>`;

      const choiceDiv = document.createElement("div");
      choiceDiv.className = "choices";
      options[currentQuestion].forEach((opt, idx) => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.onclick = () => {
          answers.push(`${currentQuestion + 1}-${idx + 1}`);
          quiz.innerHTML = "";
          currentQuestion++;
          showQuestion();
        };
        choiceDiv.appendChild(btn);
      });
      q.appendChild(choiceDiv);
      quiz.appendChild(q);
    }

    async function showResult() {
      quiz.classList.add("hidden");
      result.classList.remove("hidden");
      feedback.classList.remove("hidden");

      const traitsList = answers.map(key => traitsMap[key] || key).join(', ');

      const prompt = `ì‚¬ìš©ìì˜ ì§„ë¡œ ì„±í–¥ í…ŒìŠ¤íŠ¸ ê²°ê³¼ì…ë‹ˆë‹¤. ê° í•­ëª©ì€ ì‚¬ìš©ìê°€ ì„ íƒí•œ ì„±í–¥ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤:\n${traitsList}\nì´ ì„±í–¥ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ ë‹¤ìŒ í•­ëª©ì— ëŒ€í•´ ë¶„ì„í•´ì£¼ì„¸ìš”:\n1. ì‚¬ìš©ìì˜ ì „ë°˜ì ì¸ ì„±ê²©ì  ê²½í–¥ê³¼ ì‚¬ê³  ë°©ì‹\n2. ì„±ê²©ìƒì˜ ê°•ì ê³¼ ì•½ì \n3. ì‚¬íšŒì , ì§ì—…ì  ê´€ê³„ì—ì„œ ë‚˜íƒ€ë‚  ìˆ˜ ìˆëŠ” íŠ¹ì§•\n4. ì¶”ì²œí•  ìˆ˜ ìˆëŠ” ì§„ë¡œ ìœ í˜• 3ê°€ì§€ ì´ìƒ\n5. ê·¸ ì´ìœ \nì‘ë‹µì€ ìµœëŒ€í•œ êµ¬ì²´ì ì´ê³  ìƒì„¸í•˜ê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”.`;

      const response = await fetch("https://api.openai.com/v1/chat/completions", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "Authorization": `Bearer ${apiKey}`
        },
        body: JSON.stringify({
          model: "gpt-4",
          messages: [{ role: "user", content: prompt }],
          temperature: 0.7
        })
      });

      const data = await response.json();

      result.innerHTML = `
        <h2>ğŸ¯ í…ŒìŠ¤íŠ¸ ì™„ë£Œ</h2>
        <p><strong>ì„±í–¥ ìš”ì•½:</strong> ${traitsList}</p>
        <hr />
        <h3>ğŸ§­ GPT ë¶„ì„ ê²°ê³¼</h3>
        <pre style="white-space: pre-wrap;">${data.choices[0].message.content}</pre>
      `;
    }

    function recordFeedback(choice) {
      thanksMsg.textContent = `ì˜ê²¬ ê°ì‚¬í•©ë‹ˆë‹¤. (${choice === 'yes' ? 'ìœ ìµí–ˆìŒ' : 'ìœ ìµí•˜ì§€ ì•ŠìŒ'})`;
    }

    showQuestion();
  </script>
</body>
</html>
