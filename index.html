<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>진로 성향 테스트</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; padding: 20px; max-width: 700px; margin: auto; background-color: #f7f7f7; color: #333; }
    .question { margin-bottom: 20px; }
    .choices button { display: block; margin: 5px 0; padding: 10px; width: 100%; border: none; background-color: #e0e0e0; cursor: pointer; border-radius: 6px; }
    .choices button:hover { background-color: #c0c0c0; }
    .result, .feedback { margin-top: 30px; background-color: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .hidden { display: none; }
    .button-group button { margin-right: 10px; padding: 8px 12px; border: none; background-color: #4caf50; color: white; border-radius: 5px; cursor: pointer; }
    .button-group button:hover { background-color: #388e3c; }
  </style>
</head>
<body>
  <h1>진로 성향 테스트</h1>
  <div id="quiz"></div>
  <div class="result hidden" id="result"></div>
  <div class="feedback hidden" id="feedback">
    <p>이 테스트가 유익했나요?</p>
    <div class="button-group">
      <button onclick="recordFeedback('yes')">네</button>
      <button onclick="recordFeedback('no')">아니오</button>
    </div>
    <p id="thanksMsg" style="margin-top: 15px;"></p>
  </div>

  <script>
    const questions = [...]; // 동일하게 유지
    const options = [...]; // 동일하게 유지

    let currentQuestion = 0;
    let answers = [];

    const quiz = document.getElementById("quiz");
    const result = document.getElementById("result");
    const feedback = document.getElementById("feedback");
    const thanksMsg = document.getElementById("thanksMsg");

    function showQuestion() { /* 동일하게 유지 */ }

    function showResult() {
      quiz.classList.add("hidden");
      result.classList.remove("hidden");
      feedback.classList.remove("hidden");

      let detailedAnalysis = '<h2>🔍 상세 분석 결과</h2>';

      answers.forEach((ans, idx) => {
        const qNum = idx + 1;
        const opt = parseInt(ans.split("-")[1]);
        let analysisText = '';

        switch (qNum) {
          case 1:
            if (opt === 1) analysisText = '문제 해결 상황에서 빠른 실행을 시도하지만, 내면의 불안이 자주 나타나는 성향입니다.';
            else if (opt === 2) analysisText = '상황을 파악하려 하나 조급함이 뒤따르며, 감정적 압박을 느끼는 편입니다.';
            else analysisText = '타인의 의견을 수용하지만 결정을 내리기까지 시간이 오래 걸립니다.';
            break;
          case 2:
            if (opt === 1) analysisText = '환경이 복잡할수록 즉각 반응하지만 장기적으로 피로가 누적됩니다.';
            else if (opt === 2) analysisText = '자신의 기준대로 밀고 나가며, 외부 의견에는 둔감할 수 있습니다.';
            else analysisText = '다양한 정보를 수용하지만 선택적 집중이 어려워 스트레스를 받습니다.';
            break;
          // ... 3~20번까지 유사한 방식으로 분석문 삽입
          default:
            analysisText = '해당 질문에 대한 분석이 준비 중입니다.';
        }

        detailedAnalysis += `<p><strong>Q${qNum}</strong>: ${questions[idx]}<br><em>선택: ${options[idx][opt - 1]}</em><br>🧠 분석: ${analysisText}</p><hr>`;
      });

      result.innerHTML = detailedAnalysis;
    }

    function recordFeedback(choice) {
      thanksMsg.textContent = `의견 감사합니다. (${choice === 'yes' ? '유익했음' : '유익하지 않음'})`;
    }

    showQuestion();
  </script>
</body>
</html>
